# 数据收集及处理

在系统构建的时候免不了需要灌入大量的初始数据，本文将基于个人在工作中总结出的经验，给出数据收集的流程，数据处理程序的结构及常见问题的说明。只是一些浅显的见解，还需要更多的经验。

## 数据收集流程

根据特定情景的不同，数据收集可以分为两类：

1. 直接获取数据：需求方已经有数据的积累，多是使用Excel表格存储管理，有些甚至是使用Word画的表格进行存储管理。
2. 主动收集数据：需求方没有数据积累或者只有少量的积累，需要根据需求方的要求和资源去收集数据。

### 直接获取数据

此类情况的数据一般存在以下问题：

1. 字段名称不一致，如：“email”，“邮箱”，“电子邮箱”；
2. 信息描述方式不一致，如“地址，“住宅地址”，“工作单位地址”，“工作单位”；
3. 同字段信息填写不一致，比如生日有的填写到月有的到日，有的是中文数字有的是阿拉伯数字；比如工作单位，有的是中文，有的是英文，有的是缩写；
4. 多个信息填写的问题，比如一个人有多个邮箱，有的是在同一个单元格中使用回车区分，有的使用email1，email2两列进行区分；
5. 信息错位的问题。

这些问题的处理不再本文的范围之内，会在别的文章中再做详述。

此类情况的处理流程为：

TODO：流程图

<!-- ！！！了解数据情况 -->
1. 获取并获取所有数据中的字段名及其覆盖率；
2. 分析字段的情况，如果有字段名称不一致的问题则需要确认主要使用字段并构建字段映射表；如果有多种不同类型的表还需要找出其中的关联并确保字段的一致性；
3. 根据字段覆盖率确认哪些是重要字段（必须存在或者具有主键作用的），哪些是次要的（可以不存在数据的），哪些是不需要的；
4. 根据确认的重要字段查看信息的完整度情况（比如，重要字段全都存在的数据量）；

<!-- ！！！确认存储策略 -->
5. 确认存储结构，尽量不丢失信息
6. 确认字段存贮策略，字段特别是信息描述不一致的问题，如果不易处理，需要人工参与（此处需要与数据使用方进行沟通）；
7. 根据存储策略查看损失数据情况，根据接收程度动态调整“重要字段”、“存储结构”和“存储策略”；
8. 最后给出“数据库字段说明文档”和“字段处理策略文档”；

